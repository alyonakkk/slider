class Slider{_container;_wrapper;_imgsArray;_imgs;_indicators;_indicator;_prevBtn;_nextBtn;_prevClone;_nextClone;_step;_last;_width=null;_height=null;constructor(t,i,s){this._step=0,this._last=1,this._indicators=document.querySelector(".js-indicators"),this._indicators.innerHTML="",this._container=document.querySelector(".js-container"),this._wrapper=document.querySelector(".js-wrapper"),this._imgsArray=document.querySelector(".js-imgs"),this._imgsArray.innerHTML="",this._imgsArray.style.left=this._step+"px",this._imgsArray.style.top=this._step+"px",this._prevBtn=document.querySelector(".js-prev"),this._prevClone=this._prevBtn.cloneNode(!0),this._prevBtn.parentNode.replaceChild(this._prevClone,this._prevBtn),this._nextBtn=document.querySelector(".js-next"),this._nextClone=this._nextBtn.cloneNode(!0),this._nextBtn.parentNode.replaceChild(this._nextClone,this._nextBtn),this.render(s),this.indicatorsCheck(t,i),this.orientationCheck(t,i)}render(t){let i=document.querySelector(".js-buttons");0!==t.length?(i.classList.add("buttons__buttons-visible"),t.forEach((t=>{let i=document.createElement("img");i.setAttribute("src",t),i.classList.add("slider__img"),i.classList.add("js-img"),this._imgsArray.appendChild(i)})),this._imgs=document.querySelectorAll(".js-img"),this._width=this._imgs[0].offsetWidth,this._height=this._imgs[0].offsetHeight):i.classList.remove("buttons__buttons-visible")}indicatorsCheck(t,i){let s=0,e=null;!0===t&&0!==this._imgs.length?(this._indicators.classList.add("controls__indicators-visible"),e=!0===i?this._width:this._height,this._imgs.forEach((t=>{let i=document.createElement("div");i.classList.add("controls__indicator"),i.classList.add("js-indicator"+s),this._indicators.appendChild(i),s-=e})),this.indicatorActive(this._step,this._last)):this._indicators.classList.remove("controls__indicators-visible")}orientationCheck(t,i){!1===i?(this._container.classList.add("slider__container-vertical"),this._wrapper.classList.add("slider__imgs-wrapper-vertical"),this._imgsArray.classList.add("slider__imgs-vertical"),this._imgs.forEach((t=>{t.classList.add("slider__img-vertical")})),this._prevClone.classList.add("buttons__prev-vertical"),this._nextClone.classList.add("buttons__next-vertical"),this.moveVertical(t)):(this._container.classList.remove("slider__container-vertical"),this._wrapper.classList.remove("slider__imgs-wrapper-vertical"),this._imgsArray.classList.remove("slider__imgs-vertical"),this._imgs.forEach((t=>{t.classList.remove("slider__img-vertical")})),this._prevClone.classList.remove("buttons__prev-vertical"),this._nextClone.classList.remove("buttons__next-vertical"),this.moveHorizontal(t))}moveHorizontal(t){this._prevClone.addEventListener("click",(()=>{this._step+=this._width,this._step>0&&(this._step=-this._width*(this._imgs.length-1)),this._imgsArray.style.left=this._step+"px",!0===t&&this.indicatorActive(this._step,this._last)})),this._nextClone.addEventListener("click",(()=>{this._step-=this._width,this._step<=-this._width*this._imgs.length&&(this._step=0),this._imgsArray.style.left=this._step+"px",!0===t&&this.indicatorActive(this._step,this._last)}))}moveVertical(t){this._prevClone.addEventListener("click",(()=>{this._step+=this._height,this._step>0&&(this._step=-this._height*(this._imgs.length-1)),this._imgsArray.style.top=this._step+"px",!0===t&&this.indicatorActive(this._step,this._last)})),this._nextClone.addEventListener("click",(()=>{this._step-=this._height,this._step<=-this._height*this._imgs.length&&(this._step=0),this._imgsArray.style.top=this._step+"px",!0===t&&this.indicatorActive(this._step,this._last)}))}indicatorActive(t,i){i<=0&&document.querySelector(".js-indicator"+i).classList.remove("controls__indicator-active"),document.querySelector(".js-indicator"+t).classList.add("controls__indicator-active"),this._last=t}}class Settings{_checkBox;_createBtn;_addImg;_imgsContainer;_imgArray=[];_indicators=!0;_orientation=!0;constructor(){this._checkBox=document.querySelectorAll(".js-checkbox"),this._createBtn=document.querySelector(".js-create"),this._addImg=document.querySelector(".js-add-file"),this._imgsContainer=document.querySelector(".js-imgs-container"),this.listeners(this._imgsContainer,this._imgArray)}listeners(t,i){this._addImg.addEventListener("change",(()=>{let s=this._addImg.files[0];if(s){let e=new FileReader;e.onload=function(s){let e=Date.now(),r=s.target.result,n=document.createElement("div"),a=document.createElement("img"),c=document.createElement("img");a.setAttribute("src","/img/remove.png"),a.classList.add("add-pic__img-remove"),n.classList.add("add-pic__img-wrapper"),n.classList.add("js-img-wrapper"+e),c.setAttribute("src",r),c.classList.add("add-pic__img"),n.appendChild(a),n.appendChild(c),t.appendChild(n),i.push(r),document.querySelector(".js-img-wrapper"+e).addEventListener("click",(()=>{t.removeChild(n);let s=i.indexOf(r);i.splice(s,1)}))},e.readAsDataURL(s)}})),this._checkBox.forEach((t=>{t.addEventListener("click",(()=>{t.classList.toggle("checkbox-disable"),t.classList.contains("checkbox-disable")?("indicators"===t.id&&(this._indicators=!1),"orientation"===t.id&&(this._orientation=!1)):("indicators"===t.id&&(this._indicators=!0),"orientation"===t.id&&(this._orientation=!0))}))})),this._createBtn.addEventListener("click",(()=>{new Slider(this._indicators,this._orientation,this._imgArray)}))}}let settings=new Settings;
